export const JOB_NORMALIZATION_PROMPT = `
Ты эксперт по анализу IT-вакансий. Твоя задача - извлечь структурированные данные из текста вакансии.

ВАЖНО: Отвечай ТОЛЬКО в формате JSON без дополнительных комментариев.

Исходный текст вакансии:
Заголовок: {title}
Описание: {description}

Извлеки следующие данные и верни в JSON формате:

{
  "company": {
    "name": "название компании (если не найдено, то null)",
    "description": "краткое описание компании (максимум 2-3 предложения, только суть деятельности)",
    "website": "сайт компании (если есть)",
    "size": "размер компании в формате 'X-Y сотрудников' или 'X сотрудников' (если есть)"
  },
  "shortDescription": "краткое описание вакансии (максимум 2-3 предложения, только ключевые обязанности)",
  "fullDescription": "полное описание вакансии (грамотно построенное, без ошибок пунктуации, структурированное описание всех аспектов работы)",
  "salary": {
    "min": число_минимальная_зарплата,
    "max": число_максимальная_зарплата,
    "currency": "RUB|USD|EUR",
    "period": "month|year",
    "type": "до вычета налогов|после вычета налогов|не указано"
  },
  "location": {
    "city": "город",
    "country": "страна (по умолчанию 'Россия')",
    "address": "адрес (если есть)",
    "remote": true/false
  },
  "requirements": {
    "required": ["обязательное требование 1", "обязательное требование 2"],
    "preferred": ["желательное требование 1", "желательное требование 2"],
    "technical": ["javascript", "react", "typescript", "python", "java", "c#", "php", "ruby", "go", "rust", "c++", "swift", "kotlin", "scala"],
    "languages": ["языки программирования из списка выше"],
    "frameworks": ["react", "vue", "angular", "svelte", "ember", "express", "nestjs", "fastapi", "django", "flask", "rails", "spring", "laravel", "symfony", "asp.net"],
    "tools": ["git", "docker", "kubernetes", "jenkins", "github actions", "aws", "azure", "gcp", "terraform", "ansible", "figma", "sketch", "photoshop", "illustrator"]
  },
  "benefits": {
    "social": ["медицинская страховка", "дмс", "отпуск", "больничный", "пенсионные взносы", "материнский капитал", "детский сад"],
    "bonuses": ["премия", "бонус", "комиссия", "процент", "акции", "опционы", "13-я зарплата", "годовая премия"],
    "conditions": ["гибкий график", "удаленная работа", "офис", "коворкинг", "командировки", "переработки", "сверхурочные"],
    "development": ["обучение", "курсы", "конференции", "сертификация", "менторство", "карьерный рост", "повышение квалификации"]
  },
  "workType": "full_time|part_time|contract|internship|remote|hybrid",
  "experienceLevel": "no_experience|junior|middle|senior|lead"
}

ПРАВИЛА ИЗВЛЕЧЕНИЯ:

1. КОМПАНИЯ:
   - Ищи названия компаний в начале описания, после слов "компания", "мы", "наша команда"
   - ОСОБОЕ ВНИМАНИЕ: Если в описании есть строка "Компания: [название]", используй это название
   - Размер компании ищи по фразам "X сотрудников", "команда из X", "X-Y человек", "Размер: X"
   - Сайт ищи по доменам .ru, .com, .org или после "Сайт:"
   - Описание компании ищи после "Описание:" в начале текста

2. ОПИСАНИЯ ВАКАНСИИ:
   
   КРАТКОЕ ОПИСАНИЕ (shortDescription):
   - 3-4 предложения с ключевыми обязанностями и технологиями
   - Включи основные технологии и фреймворки
   - Сохрани важные детали о задачах
   - Пример: "Разработка дашбордов и систем мониторинга на React 18, Next.js 15, TypeScript. Создание переиспользуемых компонентов с Tailwind CSS, Radix UI. Оптимизация производительности и работа с TanStack Query, React Hook Form."
   
   ПОЛНОЕ ОПИСАНИЕ (fullDescription):
   - Подробное описание (8-12 предложений) с сохранением всех важных деталей
   - Исправь ошибки пунктуации и грамматики, но сохрани всю информацию
   - Структурируй по разделам: обязанности, технологии, требования, условия
   - Включи: все технологии, фреймворки, инструменты, условия работы, процесс найма
   - Сохрани специфические детали: размер команды, формат работы, бонусы, процесс интервью
   - Пример: "Разработка современных пользовательских интерфейсов для AI-платформы с использованием React 18, Next.js 15, TypeScript. Создание дашбордов для администраторов, систем мониторинга и аналитических панелей для работы с большими потоками данных в реальном времени. Работа с современным стеком: Tailwind CSS, Radix UI, Framer Motion, Shadcn UI, TanStack Query, React Hook Form, Zod. Участие в архитектурных решениях, оптимизация производительности интерфейсов, работа в связке с UI/UX дизайнерами и backend-разработчиками. Удаленный или гибридный формат работы, 6-дневная рабочая неделя, современные инструменты разработки, минимум бюрократии."

3. ЗАРПЛАТА:
   - Ищи числа с валютой: "100000 руб", "80-120 тыс", "от 50000", "до 200000"
   - Конвертируй "тыс" в полные числа (80 тыс = 80000)
   - Определяй период: "в месяц", "в год", "месячно", "годовая"
   - Валюта: руб/рублей=RUB, $/долларов=USD, €/евро=EUR

4. ЛОКАЦИЯ:
   - Города: Москва, СПб, Санкт-Петербург, Екатеринбург, Новосибирск, Нижний Новгород, Казань, Челябинск, Омск, Самара, Ростов-на-Дону
   - Удаленная работа: "удаленно", "remote", "из дома", "дистанционно"
   - Гибрид: "гибрид", "частично удаленно", "2-3 дня в неделю"

5. ТРЕБОВАНИЯ:
   - Обязательные: "требуется", "необходимо", "обязательно", "должен"
   - Желательные: "желательно", "будет плюсом", "приветствуется", "опционально"
   - Технические навыки извлекай из всего текста
   - Языки программирования - только из списка выше
   - Фреймворки - только из списка выше
   - Инструменты - только из списка выше

6. ПРЕИМУЩЕСТВА:
   - Социальный пакет: "медстраховка", "дмс", "отпуск", "больничный"
   - Бонусы: "премия", "бонус", "13-я зарплата", "акции"
   - Условия: "гибкий график", "офис", "коворкинг"
   - Развитие: "обучение", "курсы", "конференции", "менторство"

7. ТИП РАБОТЫ:
   - full_time: "полная занятость", "полный день", "40 часов"
   - part_time: "частичная занятость", "неполный день", "20 часов"
   - contract: "контракт", "проектная работа", "по договору"
   - internship: "стажировка", "intern", "стажер"
   - remote: "удаленно", "remote", "из дома"
   - hybrid: "гибрид", "частично удаленно"

8. УРОВЕНЬ ОПЫТА:
   - no_experience: "без опыта", "стажер", "junior", "начинающий"
   - junior: "1-2 года", "до 3 лет", "начинающий", "junior"
   - middle: "3-5 лет", "от 3 лет", "средний", "middle"
   - senior: "5+ лет", "от 5 лет", "опытный", "senior"
   - lead: "lead", "руководитель", "team lead", "ведущий"

ВАЖНО: Если информация не найдена, используй null для чисел и пустые массивы для списков.
`

export const FALLBACK_PROMPT = `
Если основная нормализация не сработала, используй упрощенный подход:

Извлеки только основную информацию:
{
  "company": {
    "name": "название компании или null"
  },
  "salary": null,
  "location": null,
  "requirements": {
    "required": ["основные требования из текста"],
    "technical": ["технологии из текста"]
  },
  "benefits": null,
  "workType": "full_time",
  "experienceLevel": null
}
`
